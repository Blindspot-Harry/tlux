{% extends 'base.html' %}
{% block content %}
<h3 class="text-primary text-center mb-4">ðŸ›  Painel TÃ©cnico - T-LUX</h3>

<div class="row g-4">

  <!-- FunÃ§Ãµes tÃ©cnicas -->
  <div class="col-md-6">
    <div class="card p-4 h-100">
      <h4 class="mb-3 text-primary">âš¡ FunÃ§Ãµes AvanÃ§adas</h4>
      <div class="d-grid gap-3">
        <a href="{{ url_for('verificar_serial') }}" class="btn btn-primary btn-lg">
          ðŸ“± Verificar IMEI / Serial de Cliente
        </a>
        <a href="{{ url_for('transacoes') }}" class="btn btn-outline-primary btn-lg">
          ðŸ’³ HistÃ³rico de Desbloqueios
        </a>
        <a href="{{ url_for('gerir_clientes') }}" class="btn btn-gold btn-lg">
          ðŸ‘¥ Gerir Clientes Vinculados
        </a>
      </div>
    </div>
  </div>

  <!-- EstatÃ­sticas -->
  <div class="col-md-6">
    <div class="card p-4 h-100">
      <h4 class="mb-3 text-primary">ðŸ“Š EstatÃ­sticas</h4>
      <ul class="list-group">
        <li class="list-group-item">
          ðŸ”“ Desbloqueios realizados: <b>{{ stats.total_unlocks }}</b>
        </li>
        <li class="list-group-item">
          ðŸ’° Receita gerada: <b>{{ stats.total_revenue }} {{ currency }}</b>
        </li>
        <li class="list-group-item">
          ðŸ‘¥ Clientes atendidos: <b>{{ stats.total_clients }}</b>
        </li>
      </ul>
    </div>
  </div>

  <!-- Ãšltimos desbloqueios -->
  <div class="col-12">
    <div class="card p-4">
      <h4 class="mb-3 text-primary">ðŸ“± Ãšltimos Desbloqueios</h4>
      <div class="table-responsive">
        <table class="table table-bordered table-hover">
          <thead class="table-primary">
            <tr>
              <th>ID</th>
              <th>Serial</th>
              <th>Modelo</th>
              <th>Cliente</th>
              <th>Valor</th>
              <th>Status</th>
              <th>Data</th>
            </tr>
          </thead>
          <tbody>
            {% for desbloqueio in ultimos_desbloqueios %}
            <tr>
              <td>{{ desbloqueio.id }}</td>
              <td>{{ desbloqueio.serial }}</td>
              <td>{{ desbloqueio.modelo }}</td>
              <td>{{ desbloqueio.cliente }}</td>
              <td>{{ desbloqueio.valor }} {{ currency }}</td>
              <td>{{ desbloqueio.status }}</td>
              <td>{{ desbloqueio.created_at }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>

</div>
{% endblock %}
