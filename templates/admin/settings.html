{% extends "base.html" %}
{% block title %}âš™ï¸ Admin â€” DefiniÃ§Ãµes do Sistema{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="card card-tlux shadow-lg p-4">
    <h3 class="gold-text text-center mb-4 fw-bold">âš™ï¸ DefiniÃ§Ãµes do Sistema â€” T-Lux Unlock Platform</h3>
    <p class="text-muted text-center mb-5">
      Visualize e configure as integraÃ§Ãµes principais, chaves de API e parÃ¢metros do sistema.
    </p>

    <!-- =========================
         SEÃ‡ÃƒO 1 â€” INFORMAÃ‡Ã•ES GERAIS
    ========================== -->
    <h5 class="text-gold mb-3">ğŸŒ InformaÃ§Ãµes Gerais</h5>
    <table class="table table-striped align-middle mb-5">
      <tr><th>Nome do Sistema</th><td>T-Lux Unlock System</td></tr>
      <tr><th>VersÃ£o</th><td>{{ config.version or "1.1.0" }}</td></tr>
      <tr><th>Ambiente</th><td>{{ config.env or "ProduÃ§Ã£o" }}</td></tr>
      <tr><th>Arquivo de Banco de Dados</th><td>{{ config.db_file or "t-lux.db" }}</td></tr>
      <tr><th>Data Atual</th><td>{{ config.current_time }}</td></tr>
    </table>

    <!-- =========================
         SEÃ‡ÃƒO 2 â€” IREMOVAL API
    ========================== -->
    <h5 class="text-gold mb-3">ğŸ” IntegraÃ§Ã£o iRemoval Tools</h5>
    <table class="table table-bordered align-middle mb-5">
      <tr><th>Endpoint</th><td>{{ config.api_url or "https://bulk.iremove.tools/api/dhru/api/index.php" }}</td></tr>
      <tr><th>Username</th><td>{{ config.username or "â€”" }}</td></tr>
      <tr><th>API Key</th><td>
        {% if config.api_key %}
          {{ config.api_key[:8] ~ "********" }}
        {% else %}
          <span class="text-danger">âŒ NÃ£o configurado</span>
        {% endif %}
      </td></tr>
      <tr><th>Status</th><td>
        {% if config.api_key %}<span class="text-success">âœ… Conectado</span>{% else %}<span class="text-danger">âš ï¸ Falta configurar</span>{% endif %}
      </td></tr>
    </table>

    <!-- =========================
         SEÃ‡ÃƒO 3 â€” STRIPE
    ========================== -->
    <h5 class="text-gold mb-3">ğŸ’³ IntegraÃ§Ã£o Stripe</h5>
    <table class="table table-bordered align-middle mb-5">
      <tr><th>Public Key</th><td>{{ config.stripe_public or "â€”" }}</td></tr>
      <tr><th>Secret Key</th><td>
        {% if config.stripe_secret %}
          {{ config.stripe_secret[:8] ~ "********" }}
        {% else %}
          <span class="text-danger">âŒ NÃ£o configurada</span>
        {% endif %}
      </td></tr>
      <tr><th>Webhook Secret</th><td>{{ config.stripe_webhook or "â€”" }}</td></tr>
    </table>

    <!-- =========================
         SEÃ‡ÃƒO 4 â€” SMTP (E-MAIL)
    ========================== -->
    <h5 class="text-gold mb-3">ğŸ’Œ ConfiguraÃ§Ã£o de E-mail (SMTP)</h5>
    <table class="table table-bordered align-middle mb-5">
      <tr><th>Servidor</th><td>{{ config.smtp_server or "smtp.zoho.com" }}</td></tr>
      <tr><th>Porta</th><td>{{ config.smtp_port or "465" }}</td></tr>
      <tr><th>UsuÃ¡rio</th><td>{{ config.smtp_user or "support@t-lux.store" }}</td></tr>
      <tr><th>SeguranÃ§a</th><td>{{ config.smtp_security or "SSL/TLS" }}</td></tr>
      <tr><th>Status</th><td><span class="text-success">âœ… Ativo</span></td></tr>
    </table>

    <!-- =========================
         SEÃ‡ÃƒO 5 â€” FLUTTERWAVE (FUTURO)
    ========================== -->
    <h5 class="text-gold mb-3">ğŸŒ IntegraÃ§Ã£o Flutterwave</h5>
    <table class="table table-bordered align-middle mb-5">
      <tr><th>Public Key</th><td>{{ config.flutterwave_public or "â€”" }}</td></tr>
      <tr><th>Secret Key</th><td>{{ config.flutterwave_secret or "â€”" }}</td></tr>
      <tr><th>Status</th><td><span class="text-warning">ğŸ•“ Em Desenvolvimento</span></td></tr>
    </table>

    <!-- =========================
         SEÃ‡ÃƒO 6 â€” AÃ‡Ã•ES RÃPIDAS
    ========================== -->
    <div class="text-center mt-4">
      <a href="{{ url_for('admin_dashboard') }}" class="btn btn-outline-light px-4 mx-2">â† Voltar ao Painel</a>
      <a href="{{ url_for('update_services') }}" class="btn btn-outline-warning px-4 mx-2">ğŸ”„ Atualizar ServiÃ§os</a>
      <a href="{{ url_for('logout') }}" class="btn btn-outline-danger px-4 mx-2">ğŸšª Terminar SessÃ£o</a>
    </div>

  </div>
</div>
{% endblock %}
