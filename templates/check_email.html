<!-- templates/check_email.html -->
{% extends "base.html" %}
{% block title %}📩 {{ _("Verify Your Email — T-Lux Unlock Systems") }}{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow-lg border-0 p-4 text-center rounded-4">
        
        <!-- Header -->
        <h2 class="fw-bold mb-3 gold-text">📩 {{ _("Verify Your Email") }}</h2>
        <p class="text-muted">
          {{ _("We’ve sent a verification link and code to:") }}  
          <strong class="text-dark">{{ email }}</strong>
        </p>
        <p class="text-muted mb-4">
          {{ _("Please open your inbox and click the") }} 
          <strong>“Verify Email”</strong> {{ _("button to activate your account.") }}
        </p>

        <!-- Notice -->
        <div class="alert alert-warning shadow-sm small text-start" role="alert">
          ⚠️ {{ _("If you don’t see the message, check your") }} 
          <strong>{{ _("Spam") }}</strong> {{ _("or") }} <strong>{{ _("Junk") }}</strong> {{ _("folder.") }}
        </div>

        <!-- Feedback flash messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <div class="mt-3">
              {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                  {{ message }}
                  <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}

        <!-- Actions -->
        <div class="mt-4 d-flex justify-content-center flex-wrap gap-2">
          <form action="{{ url_for('resend_verification_code_route') }}" method="POST">
            <input type="hidden" name="email" value="{{ email }}">
            <button type="submit" class="btn btn-tlux fw-bold px-4 py-2">
              🔁 {{ _("Resend Verification Email") }}
            </button>
          </form>

          <a href="{{ url_for('logout') }}" class="btn btn-outline-primary fw-bold px-4 py-2">
            🚪 {{ _("Log Out") }}
          </a>
        </div>

        <!-- Footer -->
        <p class="text-muted small mt-4">
          {{ _("Once verified, you can log in securely to your dashboard.") }}<br>
          © 2025 T-Lux Unlock Systems
        </p>

      </div>
    </div>
  </div>
</div>
{% endblock %}
